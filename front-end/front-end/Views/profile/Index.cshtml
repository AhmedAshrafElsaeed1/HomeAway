@model front_end.ViewModel.ProfileViewModel
@{
    ViewData["Title"] = "Profile";
    Layout = "_Layout";
}

<div class="profile-layout">

    <aside class="profile-sidebar">
        <div class="user-info">
            <div class="user-avatar">
                @if (!string.IsNullOrEmpty(Model.CurrentUser?.FullName))
                {
                    @Model.CurrentUser.FullName.Substring(0,1).ToUpper()
                }
            </div>
           <h3>@(Model.CurrentUser?.FullName ?? "Guest")</h3>
<p>@(Model.CurrentUser?.Email ?? "Not provided")</p>

        </div>

        <nav class="profile-nav">
            <a class="active">My Bookings</a>
            <a href="#">Profile</a>
            <a href="#">Wishlist</a>
            <a href="#">Settings</a>
            <a class="logout" href="/Login/Logout">Logout</a>
        </nav>
    </aside>

    <div class="profile-content">
        <h2>My Bookings</h2>

        @if (Model.Bookings != null && Model.Bookings.Any())
        {
            @foreach (var booking in Model.Bookings)
            {
                <div class="booking-item">
                    <div class="booking-details">
                        <h4>@booking.RoomId</h4>
                        <p>@booking.From.ToShortDateString() - @booking.To.ToShortDateString()</p>
                        
                    </div>
                    <div class="booking-status">
                        <span class="status @(booking.Status == 1 ? "completed" : "confirmed")">
                            @(booking.Status == 1 ? "Completed" : "Confirmed")
                        </span>
                    </div>
                </div>
            }
        }
        else
        {
            <p>No bookings found.</p>
        }

        <div class="stats-grid">
            <div class="stat-card">
                <span class="number">@Model.TotalBookings</span>
                <p>Total Bookings</p>
            </div>
            <div class="stat-card">
                <span class="number">@Model.Completed</span>
                <p>Completed Stays</p>
            </div>
            <div class="stat-card">
                <span class="number">@Model.Upcoming</span>
                <p>Upcoming Trips</p>
            </div>
        </div>
    </div>
</div>
